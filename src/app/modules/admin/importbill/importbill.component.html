<div class="pagetitle">
    <h1>Quản Lý Hoá Đơn Nhập</h1>
  </div><!-- End Page Title -->
  <section class="section dashboard">
    <form (ngSubmit)="onSubmitSearch()" class="form-inline mt-4">
      <div class="d-flex flex-row">
        <div class="form-group col-auto mr-2">
          <label for="keyWord" class="sr-only">Search</label>
          <input type="search" class="form-control" id="keyWord" [(ngModel)]="keyword"
            [ngModelOptions]="{ standalone: true }" placeholder="Nhập từ khoá " />
        </div>
        <button type="submit" class="btn btn-primary bt">
          <i class="bi bi-search"></i>
        </button>
      </div>
    </form>

    <br>
    <button type="button" class="btn btn-primary" style="margin-bottom: 30px;" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
      <i class="bi bi-plus-lg"></i> Thêm mới
    </button>
    <div style="max-height: 320px; overflow: auto;">
      <table #dt class="table table-hover table-bordered">
        <thead>
          <tr class="table-primary">
            <th scope="col" class="text-center" style="width:20%">Mã hóa đơn nhập</th>
            <th scope="col" class="text-center" style="width:20%">Mã nhân viên</th>
            <th scope="col" class="text-center">Giá</th>
            <th scope="col" class="text-center" style="width:20%">Chức Năng</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let x of datas">
            <th class="text-center">{{ x.id }}</th>
            <th class="text-center">{{ x.Id_customer }}</th>
            <td class="text-center">{{ x.Price }}</td>
            <td>
              <i class="bi bi-eye" style="color: rgb(6, 60, 253); margin-left: 50px;"></i>
              <i class="bi bi-pencil-square" data-bs-toggle="modal" data-bs-target="#edit"  style="color: rgb(255, 170, 0); margin-left: 30px;"></i>
              <i class="bi bi-trash3"  style="color: red; margin-left: 30px;"></i>
             
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <br>
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li class="page-item ">
          <a class="page-link"(click)="Previousdata()">Previous</a>
        </li>
        <li class="page-item"*ngFor="let x of totalPageArray"><a class="page-link" (click)="Setpage(x)">{{x}}</a></li>
        
        <li class="page-item" (click)="Nextdata()">
          <a class="page-link" >Next</a>
        </li>
      </ul>
    </nav>
    
  </section>


  <!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Thêm hóa đơn nhập</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- <div class="row">
            <div class="col-12 form-group">
              <label for="name" class="col-form-label">Tên hóa đơn: <span style="color: red;">*</span></label>
              <input type="text" [(ngModel)]="invoiceName" class="form-control" id="name">
            </div>
          </div>
          <br> -->
       <!-- Button to add more item fields -->
       <!-- <button type="button" class="btn btn-success" style="margin-bottom: 30px;"  (click)="addInvoiceItem()"><i class="bi bi-plus-lg"></i>Thêm </button> -->
          <!-- Table for invoice items -->
          <table class="table">
            <thead>
              <tr>
                <th scope="col" style="width: 30%;">Mã Sản phẩm</th>
                <th scope="col" style="width: 20%;">Mã kho</th>

                <th scope="col"style="width: 20%;">Giá</th>
                <th scope="col"style="width: 20%;">Số lượng</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of invoiceItems; let i = index">
                <td>
                  <select [(ngModel)]="item.Idproduct" class="form-control" id="Idproduct">
                    <option value="" disabled selected>-- Chọn nhà sản phẩm --</option>
                    <option *ngFor="let x of Dsporduct" [value]="x.id">{{ x.id }}-{{x.Name}}</option>
                  </select>
                </td>
                <td>
                  <select [(ngModel)]="item.Idwarehouse" class="form-control" id="Idwarehouse">
                    <option value="" disabled selected>-- Chọn kho --</option>
                    <option *ngFor="let x of Dswarehouse" [value]="x.id">{{ x.id }}-{{x.Name}}</option>
                  </select>
                </td>

                <td><input type="number" [(ngModel)]="item.Price" class="form-control"></td>
                <td><input type="number" [(ngModel)]="item.Quantity" class="form-control"></td>
                <td>
                  <i class="bi bi-plus-lg" (click)="addInvoiceItem()" style="color: rgb(43, 183, 92); margin-right: 10px; "></i>
                    <i class="bi bi-trash3" style="color: red;" (click)="removeInvoiceItem(i)"></i> 
             
                  </td>
              </tr>
            </tbody>
          </table>
  
     
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="reset()"><i class="bi bi-x"></i> Đóng</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="saveInvoice()"><i class="bi bi-floppy"></i> Lưu</button>
        </div>
      </div>
    </div>
  </div>
  

 
  